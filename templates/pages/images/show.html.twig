{% extends "base.html.twig" %}
{% block title %}
	{{parent()}}
	- Post
	{{image.title}}
{% endblock %}


{% block content %}
	<div class="container-fluid">
			{% for message in app.flashes('success') %}
			<div class="alert alert-success">
				{{message}}
			</div>
		{% endfor %}

		<div class="card text-white bg-primary mt-4 mb-4 col-lg-12 mx-auto rounded" style="max-width:600px">
			<div class="card-header ">Category here</div>
			<div class="card-body ">
				<div class="text-center">
					<h4 class="card-title">{{image.title|upper}}</h4>

					<img src="{{image.url}}" width="300" height="300" class="rounded">
				</div>
				<p>By
					<strong>user</strong>
					at
					{{image.uploadAt|date('d/m/Y')}}</p>
				<p class="card-text mt-4">{{image.description}}</p>

				<div>
					<a href="{{path('image.update',{id:image.id})}}">
						<button type="button" class="btn btn-secondary">Edit</button>
					</a>
					<a href="{{path('image.delete',{id:image.id})}}">
						<button type="button" class="btn btn-danger">Delete</button>
					</a>
					<hr>

				</div>
				{# Comments #}
				<div class="mt-4" id="comments">
					{% if image.comments|length>0 %}
						<h2 class="mb-4 text-center">{{image.comments|length}}
							Comment(s) :</h2>
						{% for comment in image.comments %}
							<p class="my-2" id="{{comment.id}}">By
								<strong>user</strong>
								at
								{{comment.createdAt|date('d/m/Y')}}</p>
							<p>{{comment.message}}</p>
							<hr>
						{% endfor %}

					{% else %}
						<p>No commentary yet, be the first to post one !</p>
					{% endif %}
					{# form comment #}
					{{ include('comment/_form.html.twig') }}
					<div class="text-center">
						<a href="{{path('home')}}#{{image.id}}">
							<button class="btn btn-secondary hBack" type="button">Back</button>
						</a>
					</div>
				</div>
			</div>
		</div>

	</div>
{% endblock %}
